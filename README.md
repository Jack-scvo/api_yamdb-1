# Проект YaMDb
Проект YaMDb собирает **отзывы** пользователей на **произведения**. Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.

Произведения делятся на **категории**, например, такие как «Книги», «Фильмы», «Музыка».
Произведению может быть присвоен **жанр** из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»).

Благодарные или возмущённые пользователи оставляют к произведениям текстовые **отзывы** и ставят произведению оценку в диапазоне от одного до десяти; из пользовательских оценок формируется усреднённая оценка произведения — **рейтинг**. На одно произведение у пользователя есть возможность оставить только один отзыв. Также пользователи могут оставлять **комментарии** к отзывам.

Добавлять произведения, категории и жанры может только администратор.
Добавлять отзывы, комментарии и ставить оценки могут только аутентифицированные пользователи.


### Пользовательские роли и права доступа

-   **Аноним** — может просматривать описания произведений, читать отзывы и комментарии.
-   **Аутентифицированный пользователь (**`user`**)** — может читать всё, как и **Аноним**, может публиковать отзывы и ставить оценки произведениям (фильмам/книгам/песенкам), может комментировать отзывы; может редактировать и удалять свои отзывы и комментарии, редактировать свои оценки произведений. Эта роль присваивается по умолчанию каждому новому пользователю.
-   **Модератор (**`moderator`**)** — те же права, что и у **Аутентифицированного пользователя**, плюс право удалять и редактировать **любые** отзывы и комментарии.
-   **Администратор (**`admin`**)** — полные права на управление всем контентом проекта. Может создавать и удалять произведения, категории и жанры. Может назначать роли пользователям.

# Технологии в проекте
Python==3.7.9
requests==2.26.0
django==2.2.16
django-filter==22.1
django-filter==2.4.0
djangorestframework-simplejwt==4.7.2
PyJWT==2.1.0


## Инструкции по запуску в dev-режиме



- Установите и активируйте виртуальное окружение


```



python3 -m venv venv



source venv/Scripts/activate



```



- Установите зависимости из файла requirements.txt



```



pip install -r requirements.txt



```



- Выполните миграции



```



python3 manage.py makemigrations



python3 manage.py migrate



```



- В папке с файлом manage.py выполните команду:



```



python3 manage.py runserver



```



## Доступные GET-запросы к ресурсам сайта:

- Получение списка всех категорий произведений:
http://127.0.0.1:8000/api/v1/categories/

- Просмотр списка всех жанров произведений:
http://127.0.0.1:8000/api/v1/genres/

- Получение списка всех произведений:
http://127.0.0.1:8000/api/v1/titles/

- Получение информации об определенном произведении:
http://127.0.0.1:8000/api/v1/titles/{titles_id}/

- Получение списка всех отзывов к произведению:
http://127.0.0.1:8000/api/v1/titles/{titles_id}/reviews/

- Получение конкретного отзыва к указанному произведению:
http://127.0.0.1:8000/api/v1/titles/{title_id}/reviews/{review_id}/

- Получение списка всех комментариев к отзыву:
http://127.0.0.1:8000/api/v1/titles/{title_id}/reviews/{review_id}/comments/
- Получение конкретного комментария к определенному отзыву:
http://127.0.0.1:8000/api/v1/titles/{title_id}/reviews/{review_id}/comments/{comment_id}/
- Получение списка всех пользователей:
http://127.0.0.1:8000/api/v1/users/
- Получение пользователя по username:
http://127.0.0.1:8000/api/v1/users/{username}/
- Получение данных своей учетной записи:
http://127.0.0.1:8000/api/v1/users/me/



## Примеры запросов и ответов API




### Добавление нового произведения (POST-запрос):



```
http://127.0.0.1:8000/api/v1/titles/

{
  "name": "string",
  "year": 0,
  "description": "string",
  "genre": [
    "string"
  ],
  "category": "string"
}
```

Ответ:

```
{
  "id": 0,
  "name": "string",
  "year": 0,
  "rating": 0,
  "description": "string",
  "genre": [
    {
      "name": "string",
      "slug": "string"
    }
  ],
  "category": {
    "name": "string",
    "slug": "string"
  }
}
```

### Просмотр информации об опубликованном произведении (GET-запрос):



```
http://127.0.0.1:8000/api/v1/titles/{titles_id}/
```

Ответ:

```
{
  "id": 0,
  "name": "string",
  "year": 0,
  "rating": 0,
  "description": "string",
  "genre": [
    {
      "name": "string",
      "slug": "string"
    }
  ],
  "category": {
    "name": "string",
    "slug": "string"
  }
}
```

### Частичное обновление информации о произведении автором (PATCH-запрос):



```
http://127.0.0.1:8000/api/v1/titles/{titles_id}/

{
  "name": "string",
  "year": 0,
  "description": "string",
  "genre": [
    "string"
  ],
  "category": "string"
}
```

Ответ:

```
{
  "id": 0,
  "name": "string",
  "year": 0,
  "rating": 0,
  "description": "string",
  "genre": [
    {
      "name": "string",
      "slug": "string"
    }
  ],
  "category": {
    "name": "string",
    "slug": "string"
  }
}
```

### Удаление опубликованного произведения (DELETE-запрос):



```
http://127.0.0.1:8000/api/v1/titles/{titles_id}/

{
  "name": "string",
  "year": 0,
  "description": "string",
  "genre": [
    "string"
  ],
  "category": "string"
}
```

### Полный перечень запросов и ответов API можно посмотреть при запущенном сервере по ссылке:

http://127.0.0.1:8000/redoc/

### Авторы

Каданер Алексей, Скворцов Евгений, Закирова Анастасия
